<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">


<!-- Mirrored from www.kerneltravel.net/kernel-book/ç¬¬ä¸ƒç« %20è¿›ç¨‹é—´é€šä¿¡/7.3.1.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sat, 29 Dec 2012 03:01:02 GMT -->
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="7.3.1.files/filelist.xml">
<link rel=Edit-Time-Data href="7.3.1.files/editdata.html">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>ĞÅºÅÁ¿</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="chsdate" downloadurl=""/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>CLJ</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>CLJ</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2007-08-15T08:41:00Z</o:Created>
  <o:LastSaved>2007-08-15T08:41:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1168</o:Words>
  <o:Characters>6662</o:Characters>
  <o:Lines>55</o:Lines>
  <o:Paragraphs>15</o:Paragraphs>
  <o:CharactersWithSpaces>7815</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:GrammarState>Clean</w:GrammarState>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 °õ</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:ËÎÌå;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@ËÎÌå";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:ËÎÌå;
	mso-font-kerning:1.0pt;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:ÆÕÍ¨±í¸ñ;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN style='tab-interval:21.0pt;text-justify-trim:punctuation'>

<div class=Section1 style='layout-grid:15.6pt'>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><st1:chsdate Year="1899" Month="12" Day="30"
IsLunarDate="False" IsROCDate="False" w:st="on"><b style='mso-bidi-font-weight:
 normal'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
 color:black;mso-font-kerning:0pt'>7.3.1</span></b></st1:chsdate><b
style='mso-bidi-font-weight:normal'><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿¼°ĞÅºÅÁ¿ÉÏµÄ²Ù×÷ÊÇ<span
lang=EN-US>E.W.Dijkstra </span>ÔÚ<span lang=EN-US>1965</span>ÄêÌá³öµÄÒ»ÖÖ½â¾öÍ¬²½¡¢»¥³âÎÊÌâµÄ½ÏÍ¨ÓÃµÄ·½·¨£¬²¢ÔÚºÜ¶à²Ù×÷ÏµÍ³ÖĞµÃÒÔÊµÏÖ£¬<span
lang=EN-US> Linux</span>¸Ä½ø²¢ÊµÏÖÁËÕâÖÖ»úÖÆ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿<span
lang=EN-US>(semaphore )</span>Êµ¼ÊÊÇÒ»¸öÕûÊı£¬ËüµÄÖµÓÉ¶à¸ö½ø³Ì½øĞĞ²âÊÔ<span lang=EN-US>(test)</span>ºÍÉèÖÃ<span
lang=EN-US>(set)</span>¡£¾ÍÃ¿¸ö½ø³ÌËù¹ØĞÄµÄ²âÊÔºÍÉèÖÃ²Ù×÷¶øÑÔ£¬ÕâÁ½¸ö²Ù×÷ÊÇ²»¿ÉÖĞ¶ÏµÄ£¬»ò³Æ¡°Ô­×Ó¡±²Ù×÷£¬¼´Ò»µ©¿ªÊ¼Ö±µ½Á½¸ö²Ù×÷È«²¿Íê³É¡£²âÊÔºÍÉèÖÃ²Ù×÷µÄ½á¹ûÊÇ£ºĞÅºÅÁ¿µÄµ±Ç°ÖµºÍÉèÖÃÖµÏà¼Ó£¬Æä<span
class=GramE>ºÍ»òÕßÊÇÕı»òÕß</span>Îª¸º¡£¸ù¾İ²âÊÔºÍÉèÖÃ²Ù×÷µÄ½á¹û£¬Ò»¸ö½ø³Ì¿ÉÄÜ±ØĞëË¯Ãß£¬Ö±µ½ÓĞÁíÒ»¸ö½ø³Ì¸Ä±äĞÅºÅÁ¿µÄÖµ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿¿ÉÓÃÀ´ÊµÏÖËùÎ½µÄ¡°ÁÙ½çÇø¡±µÄ»¥³âÊ¹ÓÃ£¬ÁÙ½çÇøÖ¸Í¬Ò»Ê±¿ÌÖ»ÄÜÓĞÒ»¸ö½ø³ÌÖ´ĞĞÆäÖĞ´úÂëµÄ´úÂë¶Î¡£ÎªÁË½øÒ»²½Àí½âĞÅºÅÁ¿µÄÊ¹ÓÃ£¬ÏÂÃæÎÒÃÇ¾ÙÀıËµÃ÷¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>¼ÙÉèÄãÓĞºÜ¶àÏà»¥Ğ­×÷µÄ½ø³Ì£¬ËüÃÇÕıÔÚ¶Á»òĞ´Ò»¸öÊı¾İÎÄ¼şÖĞµÄ¼ÇÂ¼¡£Äã¿ÉÄÜÏ£ÍûÑÏ¸ñĞ­µ÷¶ÔÕâ¸öÎÄ¼şµÄ´æÈ¡£¬ÓÚÊÇÄãÊ¹ÓÃ³õÊ¼ÖµÎª<span
lang=EN-US>1</span>µÄĞÅºÅÁ¿£¬ÔÚÕâ¸öĞÅºÅÁ¿ÉÏÊµÊ©Á½¸ö²Ù×÷£¬Ê×ÏÈ²âÊÔ²¢ÇÒ¸øĞÅºÅÁ¿<span class=GramE>µÄÖµ¼õ</span><span
lang=EN-US>1</span>£¬È»ºó²âÊÔ²¢¸øĞÅºÅÁ¿µÄÖµ¼Ó<span lang=EN-US>1</span>¡£µ±µÚÒ»¸ö½ø³Ì´æÈ¡ÎÄ¼şÊ±£¬Ëü°ÑĞÅºÅÁ¿<span
class=GramE>µÄÖµ¼õ</span><span lang=EN-US>1</span>£¬²¢»ñµÃ³É¹¦£¬ĞÅºÅÁ¿µÄ<span class=GramE>ÖµÏÖÔÚ</span>±äÎª<span
lang=EN-US>0</span>£¬Õâ¸ö½ø³Ì¿ÉÒÔ¼ÌĞøÖ´ĞĞ²¢´æÈ¡Êı¾İÎÄ¼ş¡£µ«ÊÇ£¬Èç¹ûÁíÍâÒ»¸ö½ø³ÌÒ²Ï£Íû´æÈ¡Õâ¸öÎÄ¼ş£¬ÄÇÃ´ËüÒ²°ÑĞÅºÅÁ¿<span
class=GramE>µÄÖµ¼õ</span><span lang=EN-US>1</span>£¬½á¹ûÊÇ²»ÄÜ´æÈ¡Õâ¸öÎÄ¼ş£¬ÒòÎªĞÅºÅÁ¿µÄÖµ±äÎª<span
lang=EN-US>-1</span>¡£Õâ¸ö½ø³Ì½«±»¹ÒÆğ£¬Ö±µ½µÚÒ»¸ö½ø³ÌÍê³É¶ÔÊı¾İÎÄ¼şµÄ´æÈ¡¡£µ±µÚÒ»¸ö½ø³ÌÍê³É¶ÔÊı¾İÎÄ¼şµÄ´æÈ¡£¬Ëü½«Ôö¼ÓĞÅºÅÁ¿µÄÖµ£¬Ê¹ËüÖØĞÂ±äÎª<span
lang=EN-US>1</span>£¬ÏÖÔÚ£¬µÈ´ıµÄ½ø³Ì±»»½ĞÑ£¬Ëü¶ÔĞÅºÅÁ¿µÄ¼õ<span lang=EN-US>1</span>²Ù×÷½«»ñµÃ³É¹¦¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÉÏÊöµÄ½ø³Ì»¥³âÎÊÌâ£¬ÊÇÕë¶Ô½ø³ÌÖ®¼äÒª¹²ÏíÒ»¸öÁÙ½ç×ÊÔ´¶øÑÔµÄ£¬ĞÅºÅÁ¿µÄ³õÖµÎª<span
lang=EN-US>1</span>¡£Êµ¼ÊÉÏ£¬ĞÅºÅÁ¿×÷Îª×ÊÔ´¼ÆÊıÆ÷£¬ËüµÄ³õÖµ¿ÉÒÔÊÇÈÎºÎÕıÕûÊı£¬Æä³õÖµ²»Ò»¶¨Îª<span lang=EN-US>0</span>»ò<span
lang=EN-US>1</span>¡£ÁíÍâ£¬Èç¹ûÒ»¸ö½ø³ÌÒªÏÈ»ñµÃÁ½¸ö»ò¶à¸öµÄ¹²Ïí×ÊÔ´ºó²ÅÄÜÖ´ĞĞµÄ»°£¬ÄÇÃ´£¬ÏàÓ¦µØÒ²ĞèÒª¶à¸öĞÅºÅÁ¿£¬¶ø¶à¸ö½ø³ÌÒª·Ö±ğ»ñµÃ¶à¸öÁÙ½ç×ÊÔ´ºó·½ÄÜÔËĞĞ£¬Õâ¾ÍÊÇĞÅºÅÁ¿¼¯ºÏ»úÖÆ£¬<span
lang=EN-US>Linux </span>ÌÖÂÛµÄ¾ÍÊÇĞÅºÅÁ¿¼¯ºÏÎÊÌâ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>1. </span></b><b style='mso-bidi-font-weight:
normal'><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿µÄÊı¾İ½á¹¹<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Linux</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>ÖĞĞÅºÅÁ¿ÊÇÍ¨¹ıÄÚºËÌá¹©µÄÒ»ÏµÁĞÊı¾İ½á¹¹ÊµÏÖµÄ£¬ÕâĞ©Êı¾İ½á¹¹´æÔÚÓÚÄÚºË¿Õ¼ä£¬¶ÔËüÃÇµÄ·ÖÎöÊÇ³ä·ÖÀí½âĞÅºÅÁ¿¼°ÀûÓÃĞÅºÅÁ¿ÊµÏÖ½ø³Ì¼äÍ¨ĞÅµÄ»ù´¡£¬ÏÂÃæÏÈ¸ø³öĞÅºÅÁ¿µÄÊı¾İ½á¹¹<span
lang=EN-US>(</span>´æÔÚÓÚ<span lang=EN-US>include/linux/sem.h</span>ÖĞ<span
lang=EN-US>)</span>£¬ÆäËüÒ»Ğ©Êı¾İ½á¹¹½«ÔÚÏà¹ØµÄÏµÍ³µ÷ÓÃÖĞ½éÉÜ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>(1)</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÏµÍ³ÖĞÃ¿¸öĞÅºÅÁ¿µÄÊı¾İ½á¹¹<span lang=EN-US>(sem)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>struct</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> sem { <o:p></o:p></span></p>

<p class=MsoNormal align=left style='margin-left:72.0pt;text-align:left;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>int<span
style='mso-spacerun:yes'>&nbsp; </span>semval;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿µÄµ±Ç°Öµ<span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp; </span>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>int<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>sempid;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/*</span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ÔÚĞÅºÅÁ¿ÉÏ×îºóÒ»´Î²Ù×÷µÄ½ø³ÌÊ¶±ğºÅ<span lang=EN-US> *<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>(2)</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÏµÍ³ÖĞ±íÊ¾ĞÅºÅÁ¿¼¯ºÏ<span lang=EN-US>(set)</span>µÄÊı¾İ½á¹¹<span
lang=EN-US>(semid_ds)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>struct</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> semid_ds {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-tab-count:1'> </span>struct ipc_perm sem_perm;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/*<span style='mso-spacerun:yes'>&nbsp; </span>IPC</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>È¨ÏŞ<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;</span><span
style='mso-tab-count:1'>&nbsp; </span>long<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sem_otime; <span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>×îºóÒ»´Î¶ÔĞÅºÅÁ¿²Ù×÷<span lang=EN-US>(semop)</span>µÄÊ±¼ä<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>long<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sem_ctime;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>¶ÔÕâ¸ö½á¹¹×îºóÒ»´ÎĞŞ¸ÄµÄÊ±¼ä<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-tab-count:1'> </span>struct sem<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>*sem_base;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÔÚĞÅºÅÁ¿Êı×éÖĞÖ¸ÏòµÚÒ»¸öĞÅºÅÁ¿µÄÖ¸Õë<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>struct
sem_queue *sem_pending;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>´ı´¦ÀíµÄ¹ÒÆğ²Ù×÷<span lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-tab-count:1'> </span>struct sem_queue **sem_pending_last; /* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>×îºóÒ»¸ö¹ÒÆğ²Ù×÷<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-tab-count:1'> </span>struct sem_undo *undo;<span style='mso-tab-count:
1'> </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ÔÚÕâ¸öÊı×éÉÏµÄ<span lang=EN-US>undo </span>ÇëÇó<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span>ushort<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sem_nsems;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ÔÚĞÅºÅÁ¿Êı×éÉÏµÄĞÅºÅÁ¿ºÅ<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>(3) </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÏµÍ³ÖĞÃ¿Ò»ĞÅºÅÁ¿¼¯ºÏµÄ¶ÓÁĞ½á¹¹<span lang=EN-US>(sem_queue)<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>struct</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> sem_queue {<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sem_queue *<span style='mso-tab-count:1'> </span>next;<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>/* </span><span style='font-family:
ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¶ÓÁĞÖĞÏÂÒ»¸ö½Úµã<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sem_queue **<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>prev;<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span> /* </span><span style='font-family:
ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¶ÓÁĞÖĞÇ°Ò»¸ö½Úµã<span
lang=EN-US>, *(q-&gt;prev) == q */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct wait_queue *<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>sleeper;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÕıÔÚË¯ÃßµÄ½ø³Ì<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sem_undo *<span style='mso-tab-count:1'>&nbsp; </span>undo;<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span> /* undo </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>½á¹¹<span lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>int<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>pid;<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span> /* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÇëÇó½ø³ÌµÄ½ø³ÌÊ¶±ğºÅ<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>int<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>status;<span
style='mso-tab-count:1'> </span> /* </span><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>²Ù×÷µÄÍê³É×´Ì¬<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct semid_ds *<span style='mso-tab-count:1'>&nbsp; </span>sma;<span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span> /*</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÓĞ²Ù×÷µÄĞÅºÅÁ¿¼¯ºÏÊı×é<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sembuf *<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>sops;<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span> /* </span><span style='font-family:
ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¹ÒÆğ²Ù×÷µÄÊı×é<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>int<span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp; </span>nsops;<span
style='mso-tab-count:1'>&nbsp; </span> /* </span><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>²Ù×÷µÄ¸öÊı<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>(4)</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>¼¸¸öÖ÷ÒªÊı¾İ½á¹¹Ö®¼äµÄ¹ØÏµ<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>´Ó<span
lang=EN-US>7.3</span>Í¼¿ÉÒÔ¿´³ö£¬<span lang=EN-US>semid_ds</span>½á¹¹µÄ<span lang=EN-US>sem_base</span>Ö¸ÏòÒ»¸öĞÅºÅÁ¿Êı×é£¬ÔÊĞí²Ù×÷ÕâĞ©ĞÅºÅÁ¿¼¯ºÏµÄ½ø³Ì¿ÉÒÔÀûÓÃÏµÍ³µ÷ÓÃÖ´ĞĞ²Ù×÷
¡£×¢Òâ£¬<span class=GramE><b style='mso-bidi-font-weight:normal'>ĞÅºÅÁ¿ĞÅºÅÁ¿</b></span><b
style='mso-bidi-font-weight:normal'>¼¯ºÏµÄÇø±ğ£¬</b>´ÓÉÏÃæ¿ÉÒÔ¿´³ö£¬ĞÅºÅÁ¿ÓÃ¡°<span lang=EN-US>sem</span></span><span
lang=EN-US style='mso-ascii-font-family:ËÎÌå;color:black;mso-font-kerning:0pt'>¡±</span><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'> </span><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>½á¹¹ÃèÊö£¬¶øĞÅºÅÁ¿¼¯ºÏÓÃ¡°<span
lang=EN-US>semid_ds&quot;</span>½á¹¹ÃèÊö£¬Êµ¼ÊÉÏ£¬ÔÚºóÃæµÄÌÖÂÛÖĞ£¬ÎÒÃÇÒÔĞÅºÅÁ¿¼¯ºÏÎªÌÖÂÛµÄÖ÷Òª¶ÔÏó¡£ÏÂÃæÎÒÃÇ¸ø³öÕâ¼¸¸ö½á¹¹Ö®¼äµÄ¹ØÏµ£¬ÈçÍ¼<span
lang=EN-US>7.3</span>ËùÊ¾¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><!--[if gte vml 1]><o:wrapblock><v:shapetype
  id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
  path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="if lineDrawn pixelLineWidth 0"/>
   <v:f eqn="sum @0 1 0"/>
   <v:f eqn="sum 0 0 @1"/>
   <v:f eqn="prod @2 1 2"/>
   <v:f eqn="prod @3 21600 pixelWidth"/>
   <v:f eqn="prod @3 21600 pixelHeight"/>
   <v:f eqn="sum @0 0 1"/>
   <v:f eqn="prod @6 1 2"/>
   <v:f eqn="prod @7 21600 pixelWidth"/>
   <v:f eqn="sum @8 21600 0"/>
   <v:f eqn="prod @7 21600 pixelHeight"/>
   <v:f eqn="sum @10 21600 0"/>
  </v:formulas>
  <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
  <o:lock v:ext="edit" aspectratio="t"/>
 </v:shapetype><v:shape id="_x0000_s1026" type="#_x0000_t75" style='position:absolute;
  left:0;text-align:left;margin-left:15.75pt;margin-top:-23.4pt;width:363.05pt;
  height:304.25pt;z-index:1' o:allowincell="f">
  <v:imagedata src="7.3.1.files/image001.png" o:title="Í¼7"/>
  <w:wrap type="topAndBottom"/>
 </v:shape><![endif]--><![if !vml]><span style='mso-ignore:vglayout'>
 <table cellpadding=0 cellspacing=0>
  <tr>
   <td width=21 height=0></td>
  </tr>
  <tr>
   <td></td>
   <td><img width=484 height=406 src="7.3.1.files/image002.gif" v:shapes="_x0000_s1026"></td>
  </tr>
 </table>
 </span><![endif]><!--[if gte vml 1]></o:wrapblock><![endif]--><br
style='mso-ignore:vglayout' clear=ALL>
<span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Í¼<span lang=EN-US>7.3<span
style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;</span>System V IPC</span>ĞÅºÅÁ¿Êı¾İ½á¹¹Ö®¼äµÄ¹ØÏµ<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Linux</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>¶ÔĞÅºÅÁ¿µÄÕâÖÖÊµÏÖ»úÖÆ£¬ÊÇÎªÁËÓëÏûÏ¢ºÍ¹²ÏíÄÚ´æµÄÊµÏÖ»úÖÆ±£³ÖÒ»ÖÂ£¬µ«ĞÅºÅÁ¿ÊÇÕâÈıÕßÖĞ×îÄÑÀí½âµÄ£¬Òò´ËÎÒÃÇ½«½áºÏÏµÍ³µ÷ÓÃ×ö½øÒ»²½µÄ½éÉÜ£¬Í¨¹ı¶ÔÏµÍ³µ÷ÓÃµÄÉîÈë·ÖÎö£¬ÎÒÃÇ¿ÉÒÔ½ÏÇå³şµØÁË½âÄÚºË¶ÔĞÅºÅÁ¿µÄÊµÏÖ»úÖÆ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>2. </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÏµÍ³µ÷ÓÃ£º<span class=GramE><span lang=EN-US>semget()</span></span><span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÎªÁË´´½¨Ò»¸öĞÂµÄĞÅºÅÁ¿¼¯ºÏ£¬»òÕß´æÈ¡Ò»¸öÒÑ´æÔÚµÄ¼¯ºÏ£¬ÒªÊ¹ÓÃ<span
lang=EN-US>segget()</span>ÏµÍ³µ÷ÓÃ£¬ÆäÃèÊöÈçÏÂ£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Ô­ĞÍ<span lang=EN-US>: <span class=GramE>int</span> semget
( key_t key, int nsems, int semflg );<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>·µ»ØÖµ<span lang=EN-US>: </span>Èç¹û³É¹¦£¬Ôò·µ»ØĞÅºÅÁ¿¼¯ºÏµÄ<span
lang=EN-US>IPC</span>Ê¶±ğºÅ<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>Èç¹ûÎª<span lang=EN-US>-1</span>£¬Ôò³öÏÖ´íÎó£º<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>semget()</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>ÖĞµÄµÚÒ»¸ö²ÎÊıÊÇ¼üÖµ£¬<span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp; </span></span>Õâ¸ö¼üÖµÒªÓëÒÑÓĞµÄ¼üÖµ½øĞĞ±È½Ï£¬ÒÑÓĞµÄ¼üÖµÖ¸ÔÚÄÚºËÖĞÒÑ´æÔÚµÄÆäËüĞÅºÅÁ¿¼¯ºÏµÄ¼üÖµ¡£¶ÔĞÅºÅÁ¿¼¯ºÏµÄ´ò¿ª»ò´æÈ¡²Ù×÷ÒÀÀµÓÚ<span
lang=EN-US>semflg</span>²ÎÊıµÄÈ¡Öµ£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>IPC_CREAT </span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>£ºÈç¹ûÄÚºËÖĞÃ»ÓĞĞÂ´´½¨µÄĞÅºÅÁ¿¼¯ºÏ£¬Ôò´´½¨Ëü¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>IPC_EXCL </span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>£ºµ±Óë<span lang=EN-US>IPC_CREAT</span>Ò»ÆğÊ¹ÓÃÊ±£¬µ«ĞÅºÅÁ¿¼¯ºÏÒÑ¾­´æÔÚ£¬Ôò´´½¨Ê§°Ü¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Èç¹û<span
lang=EN-US>IPC_CREAT</span>µ¥¶ÀÊ¹ÓÃ£¬<span lang=EN-US>semget()</span>ÎªÒ»¸öĞÂ´´½¨µÄ¼¯ºÏ·µ»Ø±êÊ¶ºÅ£¬»òÕß·µ»Ø¾ßÓĞÏàÍ¬¼üÖµµÄÒÑ´æÔÚ¼¯ºÏµÄ±êÊ¶ºÅ¡£Èç¹û<span
lang=EN-US>IPC_EXCL</span>Óë<span lang=EN-US>IPC_CREAT</span>Ò»ÆğÊ¹ÓÃ£¬ÒªÃ´´´½¨Ò»¸öĞÂµÄ¼¯ºÏ£¬ÒªÃ´¶ÔÒÑ´æÔÚµÄ¼¯ºÏ·µ»Ø<span
lang=EN-US>-1</span>¡£<span lang=EN-US>IPC_EXCL</span>µ¥¶ÀÊÇÃ»ÓĞÓÃµÄ£¬µ±Óë<span
lang=EN-US>IPC_CREAT</span>½áºÏÆğÀ´Ê¹ÓÃÊ±£¬¿ÉÒÔ±£Ö¤ĞÂ´´½¨¼¯ºÏµÄ´ò¿ªºÍ´æÈ¡¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>×÷Îª<span
lang=EN-US>System V IPC</span>µÄÆäËüĞÎÊ½£¬Ò»ÖÖ¿ÉÑ¡ÏîÊÇ°ÑÒ»¸ö°Ë½øÖÆÓëÑÚÂë»ò£¬ĞÎ³ÉĞÅºÅÁ¿¼¯ºÏµÄ´æÈ¡È¨ÏŞ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>µÚÈı¸ö²ÎÊı<span
lang=EN-US>nsems</span>Ö¸µÄÊÇÔÚĞÂ´´½¨µÄ¼¯ºÏÖĞĞÅºÅÁ¿µÄ¸öÊı¡£Æä×î´óÖµÔÚ¡°<span lang=EN-US>linux/sem.h</span></span><span
lang=EN-US style='mso-ascii-font-family:ËÎÌå;color:black;mso-font-kerning:0pt'>¡±</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÖĞ¶¨Òå£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;</span><span
style='mso-spacerun:yes'>&nbsp;</span>#define <span class=GramE>SEMMSL<span
style='mso-spacerun:yes'>&nbsp; </span>250</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* &lt;= 8 000 max num of semaphores per id */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>×¢Òâ£ºÈç¹ûÄãÊÇÏÔÊ½µØ´ò¿ªÒ»¸öÏÖÓĞµÄ¼¯ºÏ£¬Ôò<span
lang=EN-US>nsems</span>²ÎÊı¿ÉÒÔºöÂÔ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÏÂÃæ¾ÙÀıËµÃ÷¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>int</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> open_semaphore_set( key_t keyval, int numsems )<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>int</span><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;
</span>sid;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if</span> ( ! numsems )<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>return(</span>-1);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span>(sid = semget( keyval, numsems, IPC_CREAT | 0660 )) ==
-1)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>return(</span>-1);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span>sid);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>×¢Òâ£¬Õâ¸öÀı×ÓÏÔÊ½µØÓÃÁË<span
lang=EN-US>0660</span>È¨ÏŞ¡£Õâ¸öº¯ÊıÒªÃ´·µ»ØÒ»¸ö¼¯ºÏµÄ±êÊ¶ºÅ£¬ÒªÃ´·µ»Ø<span lang=EN-US>-1</span>¶ø³ö´í¡£¼ü<span
class=GramE>Öµ±ØĞë</span>´«µİ¸øËü£¬ĞÅºÅÁ¿µÄ¸öÊıÒ²´«µİ¸øËü£¬ÕâÊÇÒòÎªÈç¹û´´½¨³É¹¦ÔòÒª·ÖÅä¿Õ¼ä¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>3.<span
style='mso-spacerun:yes'>&nbsp; </span></span><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÏµÍ³µ÷ÓÃ<span
lang=EN-US>: <span class=GramE>semop()</span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Ô­ĞÍ<span lang=EN-US>: <span class=GramE>int</span> semop (
int semid, struct sembuf *sops, unsigned nsops);<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>·µ»Ø<span lang=EN-US>: </span>Èç¹ûËùÓĞµÄ²Ù×÷¶¼Ö´ĞĞ£¬Ôò³É¹¦·µ»Ø<span
lang=EN-US>0</span>¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>Èç¹ûÎª<span lang=EN-US>-1</span>£¬Ôò³ö´í¡£<span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>semop()</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>ÖĞµÄµÚÒ»¸ö²ÎÊı<span lang=EN-US>(semid)</span>ÊÇ¼¯ºÏµÄÊ¶±ğºÅ<span
lang=EN-US>(</span>¿ÉÒÔÓÉ<span lang=EN-US>semget()</span>ÏµÍ³µ÷ÓÃµÃµ½<span lang=EN-US>)</span>¡£µÚ¶ş¸ö²ÎÊı<span
lang=EN-US>(sops)</span>ÊÇÒ»¸öÖ¸Õë£¬ËüÖ¸ÏòÔÚ¼¯ºÏÉÏÖ´ĞĞ²Ù×÷µÄÊı×é¡£¶øµÚÈı¸ö²ÎÊı<span lang=EN-US>(nsop)</span>ÊÇÔÚÄÇ¸öÊı×éÉÏ²Ù×÷µÄ¸öÊı¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>sops</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>²ÎÊıÖ¸ÏòÀàĞÍÎª<span lang=EN-US>sembuf</span>µÄÒ»¸öÊı×é£¬Õâ¸ö½á¹¹ÔÚ<span
lang=EN-US>/inclide/linux/sem.h </span>ÖĞÉùÃ÷£¬ÊÇÄÚºËÖĞµÄÒ»¸öÊı¾İ½á¹¹£¬ÃèÊöÈçÏÂ£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>struct</span> sembuf {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ushort<span style='mso-spacerun:yes'>&nbsp; </span>sem_num;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÔÚÊı×éÖĞĞÅºÅÁ¿µÄË÷ÒıÖµ<span lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>short<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>sem_op;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿²Ù×÷Öµ<span lang=EN-US>(</span>ÕıÊı¡¢¸ºÊı»ò<span
lang=EN-US>0) */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>short<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>sem_flg;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/* </span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>²Ù×÷±êÖ¾£¬Îª<span lang=EN-US>IPC_NOWAIT</span>»ò<span
lang=EN-US>SEM_UNDO*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Èç¹û<span
lang=EN-US>sem_op</span>Îª¸ºÊı£¬ÄÇÃ´¾Í´ÓĞÅºÅÁ¿µÄÖµÖĞ¼õÈ¥<span lang=EN-US>sem_op</span>µÄ¾ø¶ÔÖµ£¬ÕâÒâÎ¶×Å½ø³ÌÒª»ñÈ¡×ÊÔ´£¬ÕâĞ©×ÊÔ´ÊÇÓÉĞÅºÅÁ¿¿ØÖÆ»ò¼à¿ØÀ´´æÈ¡µÄ¡£Èç¹ûÃ»ÓĞÖ¸¶¨<span
lang=EN-US>IPC_NOWAIT</span>£¬ÄÇÃ´µ÷ÓÃ½ø³ÌË¯Ãßµ½ÇëÇóµÄ×ÊÔ´<span class=GramE>ÊıµÃµ½</span>Âú×ã<span
lang=EN-US>(</span>ÆäËüµÄ½ø³Ì¿ÉÄÜÊÍ·ÅÒ»Ğ©×ÊÔ´<span lang=EN-US>)</span>¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Èç¹û<span
lang=EN-US>sem_op</span>ÊÇÕıÊı£¬°ÑËüµÄÖµ¼Óµ½ĞÅºÅÁ¿£¬ÕâÒâÎ¶×Å°Ñ×ÊÔ´¹é»¹¸øÓ¦ÓÃ³ÌĞòµÄ¼¯ºÏ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>×îºó£¬Èç¹û<span
lang=EN-US>sem_op</span>Îª<span lang=EN-US>0</span>£¬ÄÇÃ´µ÷ÓÃ½ø³Ì½«Ë¯Ãßµ½ĞÅºÅÁ¿µÄÖµÒ²Îª<span
lang=EN-US>0</span>£¬ÕâÏàµ±ÓÚÒ»¸öĞÅºÅÁ¿µ½´ïÁË<span lang=EN-US>100%</span>µÄÀûÓÃ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>×ÛÉÏËùÊö£¬<span
lang=EN-US>Linux </span>°´ÈçÏÂµÄ¹æÔòÅĞ¶ÏÊÇ·ñËùÓĞµÄ²Ù×÷¶¼¿ÉÒÔ³É¹¦£º²Ù×÷ÖµºÍĞÅºÅÁ¿µÄµ±Ç°ÖµÏà¼Ó´óÓÚ<span lang=EN-US> 0</span>£¬»ò²Ù×÷ÖµºÍµ±Ç°Öµ¾ùÎª<span
lang=EN-US> 0</span>£¬Ôò²Ù×÷³É¹¦¡£Èç¹ûÏµÍ³µ÷ÓÃÖĞÖ¸¶¨µÄËùÓĞ²Ù×÷ÖĞÓĞÒ»¸ö²Ù×÷²»ÄÜ³É¹¦Ê±£¬Ôò<span lang=EN-US> Linux </span>»á¹ÒÆğÕâÒ»½ø³Ì¡£µ«ÊÇ£¬Èç¹û²Ù×÷±êÖ¾Ö¸¶¨ÕâÖÖÇé¿öÏÂ²»ÄÜ¹ÒÆğ½ø³ÌµÄ»°£¬ÏµÍ³µ÷ÓÃ·µ»Ø²¢Ö¸Ã÷ĞÅºÅÁ¿ÉÏµÄ²Ù×÷Ã»ÓĞ³É¹¦£¬<span
class=GramE>¶ø½ø³Ì</span>¿ÉÒÔ¼ÌĞøÖ´ĞĞ¡£Èç¹û½ø³Ì±»¹ÒÆğ£¬<span lang=EN-US>Linux </span>±ØĞë±£´æĞÅºÅÁ¿µÄ²Ù×÷×´Ì¬²¢½«µ±Ç°½ø³Ì·ÅÈëµÈ´ı¶ÓÁĞ¡£Îª´Ë£¬<span
lang=EN-US>Linux </span>ÄÚºËÔÚ¶ÑÕ»ÖĞ½¨Á¢Ò»¸ö<span lang=EN-US> sem_queue </span>½á¹¹²¢Ìî³ä¸Ã½á¹¹¡£ĞÂµÄ<span
lang=EN-US> sem_queue </span>½á¹¹Ìí¼Óµ½¼¯ºÏµÄµÈ´ı¶ÓÁĞÖĞ£¨ÀûÓÃ<span lang=EN-US> sem_pending </span>ºÍ<span
lang=EN-US> sem_pending_last </span>Ö¸Õë£©¡£µ±Ç°½ø³Ì·ÅÈë<span lang=EN-US> sem_queue </span>½á¹¹µÄµÈ´ı¶ÓÁĞÖĞ£¨<span
lang=EN-US>sleeper</span>£©ºóµ÷ÓÃµ÷¶È³ÌĞòÑ¡ÔñÆäËûµÄ½ø³ÌÔËĞĞ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÎªÁË½øÒ»²½½âÊÍ<span
lang=EN-US>semop()</span>µ÷ÓÃ£¬ÈÃÎÒÃÇÀ´¿´Ò»¸öÀı×Ó¡£¼ÙÉèÎÒÃÇÓĞÒ»Ì¨´òÓ¡»ú£¬Ò»´ÎÖ»ÄÜ´òÓ¡Ò»¸ö×÷Òµ¡£ÎÒÃÇ´´½¨Ò»¸öÖ»ÓĞÒ»¸öĞÅºÅÁ¿µÄ¼¯ºÏ<span
lang=EN-US>(</span>½öÒ»¸ö´òÓ¡»ú<span lang=EN-US>)</span>£¬²¢ÇÒ¸øĞÅºÅÁ¿µÄ³õÖµÎª<span lang=EN-US>1(</span>ÒòÎªÒ»´ÎÖ»ÄÜÓĞÒ»¸ö×÷Òµ<span
lang=EN-US>)</span>¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Ã¿µ±ÎÒÃÇÏ£Íû°ÑÒ»¸ö×÷Òµ·¢ËÍ¸ø´òÓ¡»úÊ±£¬Ê×ÏÈÒªÈ·¶¨Õâ¸ö×ÊÔ´ÊÇ¿ÉÓÃµÄ£¬¿ÉÒÔÍ¨¹ı´ÓĞÅºÅÁ¿ÖĞ»ñµÃÒ»¸öµ¥Î»¶ø´ïµ½´ËÄ¿µÄ¡£ÈÃÎÒÃÇ×°ÔØÒ»¸ö<span
lang=EN-US>sembuf</span>Êı×éÀ´Ö´ĞĞÕâ¸ö²Ù×÷£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>struct</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> sembuf sem_lock = { 0, -1, IPC_NOWAIT };<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>´ÓÕâ¸ö³õÊ¼»¯½á¹¹¿ÉÒÔ¿´³ö£¬<span
lang=EN-US>0</span>±íÊ¾¼¯ºÏÖĞĞÅºÅÁ¿Êı×éµÄË÷Òı£¬¼´ÔÚ¼¯ºÏÖĞÖ»ÓĞÒ»¸öĞÅºÅÁ¿£¬<span lang=EN-US>-1</span>±íÊ¾ĞÅºÅÁ¿²Ù×÷<span
lang=EN-US>(sem_op)</span>£¬²Ù×÷±êÖ¾Îª<span lang=EN-US>IPC_NOWAIT</span>£¬±íÊ¾»òÕßµ÷ÓÃ½ø³Ì²»ÓÃµÈ´ı¿ÉÁ¢¼´Ö´ĞĞ£¬»òÕßÊ§°Ü<span
lang=EN-US>(</span>ÁíÒ»¸ö½ø³ÌÕıÔÚ´òÓ¡<span lang=EN-US>)</span>¡£ÏÂÃæÊÇÓÃ³õÊ¼»¯µÄ<span lang=EN-US>sembuf</span>½á¹¹½øĞĞ<span
lang=EN-US>semop()</span>ÏµÍ³µ÷ÓÃµÄÀı×Ó£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span>(semop(sid, &amp;sem_lock, 1) == -1)<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>fprintf(</span>stderr,&quot;semop\n&quot;);<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>µÚÈı¸ö²ÎÊı<span
lang=EN-US>(nsops)</span>ÊÇËµÎÒÃÇ½ö½öÖ´ĞĞÁËÒ»¸ö²Ù×÷<span lang=EN-US>(</span>ÔÚÎÒÃÇµÄ²Ù×÷Êı×éÖĞÖ»ÓĞÒ»¸ö<span
lang=EN-US>sembuf</span>½á¹¹<span lang=EN-US>)</span>£¬<span lang=EN-US>sid</span>²ÎÊıÊÇÎÒÃÇ¼¯ºÏµÄ<span
lang=EN-US>IPC</span>Ê¶±ğºÅ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>µ±ÎÒÃÇÊ¹ÓÃÍê´òÓ¡»ú£¬ÎÒÃÇ±ØĞë°Ñ×ÊÔ´·µ»Ø¸ø¼¯ºÏ£¬ÒÔ±ãÆäËüµÄ½ø³ÌÊ¹ÓÃ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>struct</span> sembuf sem_unlock = { 0, 1, IPC_NOWAIT };<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÉÏÃæÕâ¸ö³õÊ¼»¯½á¹¹±íÊ¾£¬°Ñ<span
lang=EN-US>1</span>¼Óµ½¼¯ºÏÊı×éµÄµÚ<span lang=EN-US>0</span>¸öÔªËØ£¬»»¾ä»°Ëµ£¬Ò»¸öµ¥Î»×ÊÔ´·µ»Ø¸ø¼¯ºÏ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>4. </span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>ÏµÍ³µ÷ÓÃ<span lang=EN-US> : <span
class=GramE>semctl()</span><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>Ô­ĞÍ<span lang=EN-US>: <span class=GramE>int</span> semctl
( int semid, int semnum, int cmd, union semun arg );<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>·µ»ØÖµ<span lang=EN-US>: </span>³É¹¦·µ»ØÕıÊı£¬³ö´í·µ»Ø<span lang=EN-US>-1</span>¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp; </span></span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>×¢Òâ£º<span lang=EN-US>semctl()</span>ÊÇÔÚ¼¯ºÏÉÏÖ´ĞĞ¿ØÖÆ²Ù×÷¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>semctl()</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>µÄµÚÒ»¸ö²ÎÊı<span lang=EN-US>(semid)</span>ÊÇ¼¯ºÏµÄ±êÊ¶ºÅ£¬µÚ¶ş¸ö²ÎÊı<span
lang=EN-US>(semnn)</span>ÊÇ½«Òª²Ù×÷µÄĞÅºÅÁ¿¸öÊı£¬´Ó±¾ÖÊÉÏËµ£¬ËüÊÇ¼¯ºÏµÄÒ»¸öË÷Òı£¬¶ÔÓÚ¼¯ºÏÉÏµÄµÚÒ»¸öĞÅºÅÁ¿£¬Ôò¸ÃÖµÎª<span
lang=EN-US>0</span>¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¡¤<span
lang=EN-US>cmd</span>²ÎÊı±íÊ¾ÔÚ¼¯ºÏÉÏÖ´ĞĞµÄÃüÁî£¬ÕâĞ©ÃüÁî¼°½âÊÍÈç±í<span lang=EN-US>7.2</span>ËùÊ¾£º<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¡¤<span
lang=EN-US>arg</span>²ÎÊıµÄÀàĞÍÎª<span lang=EN-US>semun</span>£¬Õâ¸öÌØÊâµÄÁªºÏÌåÔÚ<span
lang=EN-US> include/linux/sem.h</span>ÖĞÉùÃ÷£¬¶ÔËüµÄÃèÊöÈçÏÂ£º<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/*
arg for semctl system calls. */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>union</span> semun {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;
</span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class=GramE>int</span> val;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* value for SETVAL */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>struct</span> semid_ds *buf;<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>/* buffer for IPC_STAT &amp;
IPC_SET */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>ushort</span> *array;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* array for GETALL &amp; SETALL */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>struct</span> seminfo *__buf;<span
style='mso-spacerun:yes'>&nbsp; </span>/* buffer for IPC_INFO */<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class=GramE>void</span> *__pad;<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><span lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>±í<span
lang=EN-US>7.2<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp; </span>cmd</span>ÃüÁî¼°½âÊÍ<span lang=EN-US><o:p></o:p></span></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:5.4pt;border-collapse:collapse;border:none;mso-border-top-alt:
 solid black 1.0pt;mso-border-left-alt:solid black 1.0pt;mso-border-right-alt:
 solid black 1.0pt;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  mso-border-top-alt:1.0pt;mso-border-left-alt:1.0pt;mso-border-bottom-alt:
  .5pt;mso-border-right-alt:.5pt;mso-border-color-alt:black;mso-border-style-alt:
  solid;padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>ÃüÁî<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border:solid black 1.0pt;
  border-left:none;mso-border-top-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=center style='text-align:center;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>½â<span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span></span>ÊÍ<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>IPC_STAT<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>´ÓĞÅºÅÁ¿¼¯ºÏÉÏ¼ìË÷<span lang=EN-US>semid_ds</span>½á¹¹£¬²¢´æµ½<span lang=EN-US>semun</span>ÁªºÏÌå²ÎÊıµÄ³ÉÔ±<span
  lang=EN-US>buf</span>µÄµØÖ·ÖĞ<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>IPC_SET<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>ÉèÖÃÒ»¸öĞÅºÅÁ¿¼¯ºÏµÄ<span lang=EN-US>semid_ds</span>½á¹¹ÖĞ<span lang=EN-US>ipc_perm</span>ÓòµÄÖµ£¬²¢´Ó<span
  lang=EN-US>semun</span>µÄ<span lang=EN-US>buf</span>ÖĞ<span class=GramE>È¡³öÖµ</span><span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>IPC_RMID<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>´ÓÄÚºËÖĞÉ¾³ıĞÅºÅÁ¿¼¯ºÏ<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:38.8pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:38.8pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>GETALL<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:38.8pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>´ÓĞÅºÅÁ¿¼¯ºÏÖĞ»ñµÃËùÓĞĞÅºÅÁ¿µÄÖµ£¬²¢°ÑÆäÕûÊıÖµ´æµ½<span lang=EN-US>semun</span>ÁªºÏÌå³ÉÔ±µÄÒ»¸öÖ¸ÕëÊı×éÖĞ<span
  lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:24.9pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:24.9pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>GETNCNT<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:24.9pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>·µ»Øµ±Ç°µÈ´ı×ÊÔ´µÄ½ø³Ì¸öÊı<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>GETPID<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>·µ»Ø×îºóÒ»¸öÖ´ĞĞÏµÍ³µ÷ÓÃ<span lang=EN-US>semop()</span>½ø³ÌµÄ<span lang=EN-US>PID<o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>GETVAL<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>·µ»ØĞÅºÅÁ¿¼¯ºÏÄÚµ¥¸öĞÅºÅÁ¿µÄÖµ<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>GETZCNT<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>·µ»Øµ±Ç°µÈ´ı<span lang=EN-US>100%</span>×ÊÔ´ÀûÓÃµÄ½ø³Ì¸öÊı<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>SETALL<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>Óë<span lang=EN-US>GETALL</span>ÕıºÃÏà·´<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-lastrow:yes;page-break-inside:avoid;height:22.65pt'>
  <td width=119 valign=top style='width:71.4pt;border:solid black 1.0pt;
  border-top:none;mso-border-left-alt:solid black 1.0pt;mso-border-bottom-alt:
  solid black .5pt;mso-border-right-alt:solid black .5pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
  mso-font-kerning:0pt'>SETVAL<o:p></o:p></span></p>
  </td>
  <td width=670 valign=top style='width:402.25pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  mso-border-bottom-alt:solid black .5pt;mso-border-right-alt:solid black .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:22.65pt'>
  <p class=MsoNormal align=left style='text-align:left;text-autospace:none'><span
  style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";mso-font-kerning:
  0pt'>ÓÃÁªºÏÌåÖĞ<span lang=EN-US>val</span>³ÉÔ±µÄÖµÉèÖÃĞÅºÅÁ¿¼¯ºÏÖĞµ¥¸öĞÅºÅÁ¿µÄÖµ<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Õâ¸öÁªºÏÌåÖĞ£¬ÓĞÈı¸ö³ÉÔ±ÒÑ¾­ÔÚ±í<span
lang=EN-US>7</span>£­<span lang=EN-US>1</span>ÖĞÌáµ½£¬Ê£ÏÂµÄÁ½¸ö³ÉÔ±<span lang=EN-US>_buf </span>ºÍ<span
lang=EN-US>_pad</span>ÓÃÔÚÄÚºËÖĞĞÅºÅÁ¿µÄÊµÏÖ´úÂë£¬¿ª·¢ÕßºÜÉÙÓÃµ½¡£ÊÂÊµÉÏ£¬ÕâÁ½¸ö³ÉÔ±ÊÇ<span lang=EN-US>Linux</span>²Ù×÷ÏµÍ³ËùÌØÓĞµÄ£¬ÔÚ<span
lang=EN-US>UINX</span>ÖĞÃ»ÓĞ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Õâ¸öÏµÍ³µ÷ÓÃ±È½Ï¸´ÔÓ£¬ÎÒÃÇ¾ÙÀıËµÃ÷¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÏÂÃæÕâ¸ö³ÌĞò¶Î·µ»Ø¼¯ºÏÉÏË÷ÒıÎª<span
lang=EN-US>semnum</span>¶ÔÓ¦ĞÅºÅÁ¿µÄÖµ¡£µ±ÓÃ<span lang=EN-US>GETVAL</span>ÃüÁîÊ±£¬×îºóµÄ²ÎÊı<span
lang=EN-US>(semnum)</span>±»ºöÂÔ¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>int</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> get_sem_val( int sid, int semnum )<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>{<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return(</span> semctl(sid, semnum, GETVAL, 0));<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>}<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¹ØÓÚĞÅºÅÁ¿µÄÈı¸öÏµÍ³µ÷ÓÃ£¬ÎÒÃÇ½øĞĞÁËÏêÏ¸µÄ½éÉÜ¡£´ÓÖĞ¿ÉÒÔ¿´³ö£¬Õâ¼¸¸öÏµÍ³µ÷ÓÃµÄÊµÏÖºÍÊ¹ÓÃ¶¼ºÍÏµÍ³ÄÚºËÃÜÇĞÏà¹Ø£¬Òò´Ë£¬Èç¹ûÔÚÁË½âÄÚºËµÄ»ù´¡ÉÏ£¬<span
class=GramE>ÔÙÀí½â</span>ÏµÍ³µ÷ÓÃ£¬Ïà¶ÔÒª¼òµ¥µØ¶à£¬Ò²ÉîÈëµØ¶à¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;mso-layout-grid-align:
none;text-autospace:none'><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>5. </span></b><b style='mso-bidi-font-weight:
normal'><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ËÀËø<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ºÍĞÅºÅÁ¿²Ù×÷Ïà¹ØµÄ¸ÅÄî»¹ÓĞ¡°ËÀËø¡±¡£µ±Ä³¸ö½ø³ÌĞŞ¸ÄÁËĞÅºÅÁ¿¶ø½øÈëÁÙ½çÇøÖ®ºó£¬È´ÒòÎª±ÀÀ£»ò±»¡°É±ËÀ<span
lang=EN-US>(kill)&quot;</span>¶øÃ»ÓĞÍË³öÁÙ½çÇø£¬ÕâÊ±£¬ÆäËû±»¹ÒÆğÔÚĞÅºÅÁ¿ÉÏµÄ½ø³ÌÓÀÔ¶µÃ²»µ½ÔËĞĞ»ú»á£¬Õâ¾ÍÊÇËùÎ½µÄËÀËø¡£<span
lang=EN-US>Linux </span>Í¨¹ıÎ¬»¤Ò»¸öĞÅºÅÁ¿Êı×éµÄµ÷ÕûÁĞ±í<span lang=EN-US>(semadj)</span>À´±ÜÃâÕâÒ»ÎÊÌâ¡£Æä»ù±¾Ë¼ÏëÊÇ£¬<span
class=GramE>µ±Ó¦ÓÃ</span>ÕâĞ©¡°µ÷Õû¡±Ê±£¬ÈÃĞÅºÅÁ¿µÄ×´Ì¬ÍË»Øµ½²Ù×÷ÊµÊ©Ç°µÄ×´Ì¬¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>¹ØÓÚµ÷ÕûµÄÃèÊöÊÇÔÚ<span
lang=EN-US>sem_undo</span>Êı¾İ½á¹¹ÖĞ£¬ÔÚ<span lang=EN-US>include/linux/sem.h</span>ÃèÊöÈçÏÂ£º<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>/*</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>Ã¿Ò»¸öÈÎÎñ¶¼ÓĞÒ»ÏµÁĞµÄ»Ö¸´<span
lang=EN-US>(undo)</span>ÇëÇó£¬µ±½ø³ÌÍË³öÊ±£¬×Ô¶¯Ö´ĞĞ<span lang=EN-US>undo</span>ÇëÇó<span
lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span class=GramE><span
lang=EN-US style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>struct</span></span><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'> sem_undo {<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sem_undo *<span style='mso-spacerun:yes'>&nbsp;
</span>proc_next;<span style='mso-spacerun:yes'>&nbsp; </span>/*</span><span
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>ÔÚÕâ¸ö½ø³ÌÉÏµÄÏÂÒ»¸ö<span lang=EN-US>sem_undo</span>½Úµã<span
lang=EN-US> */<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>struct sem_undo *<span style='mso-spacerun:yes'>&nbsp; </span>id_next;<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp; </span>/* </span><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>ÔÚÕâ¸öĞÅºÅÁ¿¼¯ºÍÉÏµÄÏÂÒ»¸ö<span
lang=EN-US>sem_undo</span>½Úµã<span lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>int<span style='mso-tab-count:1'> </span> semid;<span style='mso-tab-count:
1'> </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿¼¯µÄ±êÊ¶ºÅ<span lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>short *<span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>semadj;<span
style='mso-tab-count:1'>&nbsp; </span><span style='mso-spacerun:yes'>&nbsp;
</span>/* </span><span style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";
color:black;mso-font-kerning:0pt'>ĞÅºÅÁ¿Êı×éµÄµ÷Õû£¬Ã¿¸ö½ø³ÌÒ»¸ö<span lang=EN-US>*/<o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>};<o:p></o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'>sem_undo</span><span style='font-family:ËÎÌå;mso-hansi-font-family:
"Times New Roman";color:black;mso-font-kerning:0pt'>½á¹¹Ò²³öÏÖÔÚ<span lang=EN-US>task_struct</span>Êı¾İ½á¹¹ÖĞ¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span lang=EN-US
style='font-family:ËÎÌå;mso-hansi-font-family:"Times New Roman";color:black;
mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>Ã¿Ò»¸öµ¥¶ÀµÄĞÅºÅÁ¿²Ù×÷Ò²ĞíÒªÇëÇóµÃµ½Ò»´Î¡°µ÷Õû¡±£¬<span
lang=EN-US>Linux</span>½«ÎªÃ¿Ò»¸öĞÅºÅÁ¿Êı×éµÄÃ¿Ò»¸ö½ø³ÌÎ¬»¤ÖÁÉÙÒ»¸ö<span lang=EN-US>sem_undo</span>½á¹¹¡£Èç¹ûÇëÇóµÄ½ø³ÌÃ»ÓĞÕâ¸ö½á¹¹£¬<span
class=GramE>µ±±ØÒª</span>Ê±Ôò´´½¨Ëü£¬ĞÂ´´½¨µÄ<span lang=EN-US>sem_undo</span>Êı¾İ½á¹¹¼ÈÔÚÕâ¸ö½ø³ÌµÄ<span
lang=EN-US>task_struct</span>Êı¾İ½á¹¹ÖĞÅÅ¶Ó£¬Ò²ÔÚĞÅºÅÁ¿Êı×éµÄ<span lang=EN-US>semid_ds</span>½á¹¹ÖĞÅÅ¶Ó¡£µ±¶ÔĞÅºÅÁ¿Êı×éÉÏµÄÒ»¸öĞÅºÅÁ¿Ê©¼Ó²Ù×÷Ê±£¬Õâ¸ö²Ù×÷ÖµµÄ¸ºÊıÓëÕâ¸öĞÅºÅÁ¿µÄ¡°µ÷Õû¡±Ïà¼Ó£¬Òò´Ë£¬Èç¹û²Ù×÷ÖµÎª<span
lang=EN-US>2</span>£¬Ôò°Ñ<span lang=EN-US>-2</span>¼Óµ½Õâ¸öĞÅºÅÁ¿µÄ¡°µ÷Õû¡±Óò¡£<span lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:24.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-family:ËÎÌå;
mso-hansi-font-family:"Times New Roman";color:black;mso-font-kerning:0pt'>µ±½ø³Ì±»É¾³ıÊ±£¬<span
lang=EN-US>Linux</span>Íê³ÉÁË¶Ô<span lang=EN-US>sem_undo</span>Êı¾İ½á¹¹µÄÉèÖÃ¼°¶ÔĞÅºÅÁ¿Êı×éµÄµ÷Õû¡£Èç¹ûÒ»¸öĞÅºÅÁ¿¼¯ºÏ±»É¾³ı£¬<span
lang=EN-US>sem_undo</span>½á¹¹ÒÀÈ»ÁôÔÚÕâ¸ö½ø³ÌµÄ<span lang=EN-US>task_struct</span>½á¹¹ÖĞ£¬µ«ĞÅºÅÁ¿¼¯ºÏµÄÊ¶±ğºÅ±äÎªÎŞĞ§¡£<span
lang=EN-US><o:p></o:p></span></span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>


<!-- Mirrored from www.kerneltravel.net/kernel-book/ç¬¬ä¸ƒç« %20è¿›ç¨‹é—´é€šä¿¡/7.3.1.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sat, 29 Dec 2012 03:01:03 GMT -->
</html>
